"use strict";function _objectSpread(n){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},e=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.forEach(function(t){_defineProperty(n,t,a[t])})}return n}function _defineProperty(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}!function(){function t(t,e){var n=$(t),o=n.find("a[data-rank]");o.on("click",function(){var t=$(this),n=t.attr("data-rank");if("none"===n)o.attr("data-rank","none").children("i").removeClass("rank-desc").removeClass("rank-asc"),t.attr("data-rank","desc").children("i").addClass("rank-desc");else{var a="desc"===n?"asc":"desc";t.attr("data-rank",a).children("i").removeClass("rank-"+n).addClass("rank-"+a)}});for(var r=n.find("tbody"),a=0;a<5;a++)r.append(c(d(e),e));$(".result ".concat(t," + nav .limit select")).on("change",function(t){var n=parseInt(t.target.value);r.html("");for(var a=0;a<n;a++)r.append(c(d(e),e))}),r.on("click","tr",function(t){var n=t.target.tagName;if(/tr|td/i.test(n)){var a=$(this).closest("tr").attr("data-id");window.location.href="file.html?file=".concat(a)}}),e&&($("#downloadModal #downloadBtn").on("click",function(){$("#downloadModal").modal("hide")}),r.on("click","button[data-action=star]",function(){var t=$(this),n=t.attr("data-toggle"),a={icon:"success",position:"bottom-right",allowToastClose:!1,stack:!1,loader:!1,hideAfter:2e3,textAlign:"center"};"star"===n?(t.attr({"data-toggle":"unstar",title:"取消收藏"}).children(".material-icons").text("star"),$.toast(_objectSpread({heading:"收藏成功"},a))):"unstar"===n&&(t.attr({"data-toggle":"star",title:"收藏"}).children(".material-icons").text("star_border"),$.toast(_objectSpread({heading:"已取消收藏"},a)))}).on("click","button[data-action=download]",function(){var t=$(this).closest("tr").find("td:nth-child(8)").text();0<parseInt(t)&&$("#downloadModal").modal()}))}function c(t,n){var a='\n      <td class="td-actions text-right">\n        <button\n          data-action="star"\n          data-toggle="'.concat(t.fav?"unstar":"star",'"\n          type="button"\n          class="btn btn-warning"\n          title="').concat(t.fav?"取消":"",'收藏"\n        >\n          <i class="material-icons">star').concat(t.fav?"":"_border",'</i>\n        </button>\n        <button\n          data-action="download"\n          type="button"\n          class="btn btn-success"\n          title="下载"\n        >\n          <i class="material-icons">get_app</i>\n        </button>\n      </td>\n    ');return'\n      <tr data-id="'.concat(t.id,'">\n        <td\n          class="text-left"\n          title="').concat(t.title,'"\n        >\n          <div class="text-ellipsis">').concat(t.title,"</div>\n        </td>\n        <td>").concat(t.date,"</td>\n        <td>").concat(t.size,"</td>\n        <td>").concat(t.type,"</td>\n        <td>").concat(t.cate,"</td>\n        <td>").concat(t.brand,"</td>\n        <td>").concat(t.state,"</td>\n        ").concat(n?"<td>".concat(t.bonus,"</td>"):"",'\n        <td class="text-right">').concat(t.download,"</td>\n        ").concat(n?a:"","\n      </tr>\n    ")}function d(t){var n=a([{type:"原始文件",bonus:0},{type:"解析文件",bonus:5}]);return{id:parseInt(100*Math.random()),title:a(["常见react面试题汇总（适合中级前端）","SSM主流框架入门与综合项目实战","Java开发企业级权限管理系统","Linux随机密码"]),date:a(["2019-05-09","2019-05-08","2019-05-07"]),size:(100*Math.random()).toFixed(2)+"MB",type:t?n.type:"原始文件",cate:a(["电脑","空调","热水器","冰箱"]),brand:a(["海尔","格力","美的","西门子","三星","松下"]),state:a(["已解析","未解析"]),bonus:n.bonus,download:parseInt(100*Math.random()),fav:!0}}function o(t){return"\n      <tr>\n        <td>".concat(t.time,"</td>\n        <td>").concat(t.type,"</td>\n        <td>").concat(t.remark,"</td>\n        <td>").concat(t.operand," ").concat(t.bonus,"</td>\n      </tr>\n    ")}function r(){var t=["常见react面试题汇总（适合中级前端）","SSM主流框架入门与综合项目实战","Java开发企业级权限管理系统","Linux随机密码"],n=[{type:"文件上传",remark:'上传文件"'.concat(a(t),'"'),bonus:2,operand:"+"},{type:"文件被收藏",remark:'文件"'.concat(a(t),'"被用户收藏'),bonus:1,operand:"+"},{type:"下载文件",remark:'下载文件"'.concat(a(t),'"'),bonus:5,operand:"-"},{type:"文件入库",remark:'文件"'.concat(a(t),'"成功入库'),bonus:1,operand:"+"},{type:"评论文件",remark:'评论文件"'.concat(a(t),'"'),bonus:1,operand:"+"}];return _objectSpread({time:a(["2019-05-21 15:47:12","2019-05-21 12:30:13","2019-05-21 08:19:53"])},a(n))}function a(t){return t[Math.random()*t.length|0]}$(function(){$('[data-toggle="popover"]').popover(),t("#table_upload"),t("#table_star",!0),function(){for(var e=$("#table_bonus tbody"),t=0;t<5;t++)e.append(o(r()));$(".result #table_bonus + nav .limit select").on("change",function(t){var n=parseInt(t.target.value);e.html("");for(var a=0;a<n;a++)e.append(o(r()))})}()})}();