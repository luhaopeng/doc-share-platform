"use strict";function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(t){_defineProperty(e,t,a[t])})}return e}function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}$(function(){var t,e,a;t=1===fileType?"base":"analysis",$('nav.navbar .navbar-nav .nav-link[href*="'.concat(t,'"]')).parent().addClass("active").siblings().removeClass("active"),$("nav ol.breadcrumb li.breadcrumb-item").eq(0).html('\n      <a href="fileData/'.concat(2===fileType?"analysis":"base",'FileData">\n        ').concat(2===fileType?"解析":"原始","文件库\n      </a>\n    ")),$(".card .star").on("click",function(){var t=$(this),e=t.attr("data-toggle"),a={icon:"success",position:"bottom-right",allowToastClose:!1,stack:!1,loader:!1,hideAfter:2e3,textAlign:"center"};"star"===e?(t.attr({"data-toggle":"unstar",title:"取消收藏"}).children(".material-icons").text("star"),$.toast(_objectSpread({heading:"收藏成功"},a))):"unstar"===e&&(t.attr({"data-toggle":"star",title:"收藏"}).children(".material-icons").text("star_border"),$.toast(_objectSpread({heading:"已取消收藏"},a)))}),2===fileType&&($(".card ul.author .download").on("click",function(){$("#downloadModal").modal()}),$("#downloadModal #downloadBtn").on("click",function(){$("#downloadModal").modal("hide")})),$.post("fileData/queryFileDataDetail",{fileDataId:fileId,fileDataType:fileType},function(t){handleResult(t,function(t){var e=t.fileDataTypeDesc,a=t.account,n=t.enterprise,i=t.fileName,r=t.fileSize,o=t.dataTimeDesc,c=t.downloadCount,l=t.favoriteStatus,d=t.requiredIntegral,s=t.remark,f=t.classOneDesc,u=t.classTwoDesc,p=t.brandDesc,m=t.model,b=t.standard,v=t.pattern,h=t.ratedV,y=t.ratedI,g=t.ratedP,q=t.equipmentBrand,x=t.equipmentModel,w=t.samplingRate,D=t.variableRatio,T=t.unitV,O=t.unitI,j=$(".card:first-of-type"),k=j.find(".card-body");j.find(".star").attr({title:1===l?"取消收藏":"收藏","data-toggle":1===l?"unstar":"star"}).children("i").text(1===l?"star":"star_border"),k.find(".card-title").text(i),k.find(".intro").text(s);var _="<li>需 ".concat(d," 积分</li>");k.find(".author").html("\n              <li>".concat(a,"</li>\n              <li>").concat(n,"</li>\n              <li>").concat(o,"</li>\n              <li>").concat(e,"</li>\n              <li>").concat(c," 次下载</li>\n              ").concat(0<parseInt(d)?_:"",'\n              <li title="下载" class="download">\n                <i class="material-icons">get_app</i>\n                ').concat(r," MB\n              </li>\n            "));var M=k.find(".stat .part"),P=M.eq(0).find(".row .row div:last-child");P.eq(0).text("".concat(f,"/").concat(u)),P.eq(1).text(p),P.eq(2).text(m),P.eq(3).text(b),P.eq(4).text(v),P.eq(5).text("".concat(h,"/").concat(y)),P.eq(6).text(g);var S=M.eq(1).find(".row .row div:last-child");S.eq(0).text(q),S.eq(1).text(x),S.eq(2).text(w),S.eq(3).text(D),S.eq(4).text(T),S.eq(5).text(O)})}),e=$(".card .publish"),a=e.find("textarea"),e.find("button.send").on("click",function(){var t,e={user:"张腾",time:moment().format("YYYY-MM-DD HH:mm:ss"),content:a.val().trim()};$(".card ul.comment").prepend('\n      <li class="row">\n        <div class="icon">\n          <i class="material-icons">face</i>\n        </div>\n        <div class="col">\n          <h4>'.concat((t=e).user,"</h4>\n          <span>").concat(t.time,"</span>\n          <p>").concat(t.content,"</p>\n        </div>\n      </li>\n    ")),a.val("")})});