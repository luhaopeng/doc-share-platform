"use strict";function _objectSpread(a){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},e=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.forEach(function(t){_defineProperty(a,t,n[t])})}return a}function _defineProperty(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}!function(){function o(t,a){var n;switch(t){case"brand":n="品牌";break;case"type":n="设备类型";break;default:n=""}var e=a;return 7<e.length&&(e=e.substr(0,7)+"..."),'\n      <a\n        class="factor"\n        title="'.concat(a,'"\n        data-cat="').concat(t,'"\n      >\n        <b>').concat(n,"：</b>\n        <em>").concat(e,'</em>\n        <i class="material-icons">close</i>\n      </a>\n    ')}function r(t){return'\n      <tr data-id="'.concat(t.id,'">\n        <td\n          class="text-left"\n          title="').concat(t.title,'"\n        >\n          <div class="text-ellipsis">').concat(t.title,"</div>\n        </td>\n        <td>").concat(t.date,"</td>\n        <td>").concat(t.size,"</td>\n        <td>").concat(t.type,"</td>\n        <td>").concat(t.cate,"</td>\n        <td>").concat(t.brand,'</td>\n        <td title="').concat(t.company,'">').concat(t.company.substr(0,4),"</td>\n        <td>").concat(t.bonus,'</td>\n        <td class="text-right">').concat(t.download,'</td>\n        <td class="td-actions text-right">\n          <button\n            data-action="star"\n            data-toggle="').concat(t.fav?"unstar":"star",'"\n            type="button"\n            class="btn btn-warning"\n            title="').concat(t.fav?"取消":"",'收藏"\n          >\n            <i class="material-icons">star').concat(t.fav?"":"_border",'</i>\n          </button>\n          <button\n            data-action="download"\n            type="button"\n            class="btn btn-success"\n            title="下载"\n          >\n            <i class="material-icons">get_app</i>\n          </button>\n        </td>\n      </tr>\n    ')}function i(){return{id:parseInt(100*Math.random()),title:t(["常见react面试题汇总（适合中级前端）","SSM主流框架入门与综合项目实战","Java开发企业级权限管理系统","Linux随机密码"]),date:t(["2019-05-09","2019-05-08","2019-05-07"]),size:(100*Math.random()).toFixed(2)+"MB",type:"解析文件",cate:t(["电脑","空调","热水器","冰箱"]),brand:t(["海尔","格力","美的","西门子","三星","松下"]),company:t(["华立科技股份有限公司","威盛集团有限公司","江苏林洋能源有限公司","深圳市科陆电子科技股份有限公司"]),bonus:5,download:parseInt(100*Math.random()),fav:t([!0,!1])}}function t(t){return t[Math.random()*t.length|0]}$(function(){var t,n;t=$(".filter .combine"),n=$(".filter .condition"),t.on("click",".factor",function(){var t=$(this),a=t.attr("data-cat");n.children(".row[data-cat=".concat(a,"]")).show(),t.remove()}).on("click",".reset",function(){n.children(".row[data-cat]").show(),t.children(".factor").remove()}),n.on("click",".row:not(.multi) .value a",function(){var t=$(this),a=t.closest(".row[data-cat]"),n=a.attr("data-cat"),e=t.text();$(o(n,e)).insertBefore(".filter .combine .reset"),a.hide()}).on("click",".row.multi .value li",function(){var t=$(this);t.closest("li").toggleClass("active")}).on("click",".extra .multi",function(){var t=$(this);t.closest(".row[data-cat]").addClass("multi")}).on("click",".extra .submit",function(){var t=$(this),a=t.closest(".row.multi[data-cat]"),n=a.find(".value li.active"),e=a.attr("data-cat"),c="";n.text(function(t,a){c+=(t?",":"")+a}),c&&($(o(e,c)).insertBefore(".filter .combine .reset"),a.hide()),a.removeClass("multi"),n.removeClass("active")}).on("click",".extra .cancel",function(){var t=$(this),a=t.closest(".row.multi[data-cat]"),n=a.find(".value li.active");a.removeClass("multi"),n.removeClass("active")}),function(){var t=$("#table_parsed"),e=t.find("a[data-rank]");e.on("click",function(){var t=$(this),a=t.attr("data-rank");if("none"===a)e.attr("data-rank","none").children("i").removeClass("rank-desc").removeClass("rank-asc"),t.attr("data-rank","desc").children("i").addClass("rank-desc");else{var n="desc"===a?"asc":"desc";t.attr("data-rank",n).children("i").removeClass("rank-"+a).addClass("rank-"+n)}});for(var c=t.find("tbody"),a=0;a<5;a++)c.append(r(i()));$(".result nav .limit select").on("change",function(t){var a=parseInt(t.target.value);c.html("");for(var n=0;n<a;n++)c.append(r(i()))}),c.on("click","tr",function(t){var a=t.target.tagName;if(/tr|td/i.test(a)){var n=$(this).closest("tr").attr("data-id"),e=$('\n          <form\n            action="fileData/fileDataDetail"\n            method="post"\n            target="_blank"\n            rel="noopener noreferrer"\n            style="display:none"\n          >\n            <input name="fileDataId" value="'.concat(n,'" />\n            <input name="fileDataType" value="2" />\n          </form>\n        '));$(document.body).append(e),e.submit().remove()}}),c.on("click","button[data-action=star]",function(){var t=$(this),a=t.attr("data-toggle"),n={icon:"success",position:"bottom-right",allowToastClose:!1,stack:!1,loader:!1,hideAfter:2e3,textAlign:"center"};"star"===a?(t.attr({"data-toggle":"unstar",title:"取消收藏"}).children(".material-icons").text("star"),$.toast(_objectSpread({heading:"收藏成功"},n))):"unstar"===a&&(t.attr({"data-toggle":"star",title:"收藏"}).children(".material-icons").text("star_border"),$.toast(_objectSpread({heading:"已取消收藏"},n)))}).on("click","button[data-action=download]",function(){$("#downloadModal").modal()})}()})}();